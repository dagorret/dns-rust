--- a/tests/dns_integration.rs
+++ b/tests/dns_integration.rs
@@ -255,6 +255,11 @@
 
 fn dig_answer_count(output: &str) -> usize {
     output.lines().filter(|l| l.contains("\tIN\t")).count()
+}
+
+fn dig_has_ra(output: &str) -> bool {
+    // dig prints: ;; flags: qr rd ra; QUERY: 1, ANSWER: ...
+    output.lines().any(|l| l.contains("flags:") && l.contains(" ra"))
 }
 
 fn median_duration(mut xs: Vec<Duration>) -> Duration {
@@ -322,6 +327,19 @@
 }
 
 #[tokio::test(flavor = "multi_thread", worker_threads = 2)]
+async fn forwarder_sets_ra_flag() -> anyhow::Result<()> {
+    let tmp = TempDir::new()?;
+    let cfg_path = write_test_config_forwarder(&tmp)?;
+    let ((udp_addr, _), _) = start_server_from_cfg(&cfg_path).await?;
+
+    let out = dig_udp_fast(udp_addr, "example.com.", "A")?;
+    assert_eq!(dig_status(&out).as_deref(), Some("NOERROR"));
+    assert!(dig_has_ra(&out), "expected RA flag in dig output:\n{out}");
+    Ok(())
+}
+
+
+#[tokio::test(flavor = "multi_thread", worker_threads = 2)]
 async fn forwarder_blocklist_refused() -> anyhow::Result<()> {
     let tmp = TempDir::new()?;
     let cfg_path = write_test_config_forwarder(&tmp)?;
@@ -475,6 +493,20 @@
 
 #[tokio::test(flavor = "multi_thread", worker_threads = 2)]
 #[ignore]
+async fn recursor_sets_ra_flag() -> anyhow::Result<()> {
+    let tmp = TempDir::new()?;
+    let cfg_path = write_test_config_recursor(&tmp)?;
+    let ((udp_addr, _), _) = start_server_from_cfg(&cfg_path).await?;
+
+    let out = dig_udp_slow(udp_addr, "example.com.", "A")?;
+    assert_eq!(dig_status(&out).as_deref(), Some("NOERROR"));
+    assert!(dig_has_ra(&out), "expected RA flag in dig output:\n{out}");
+    Ok(())
+}
+
+
+#[tokio::test(flavor = "multi_thread", worker_threads = 2)]
+#[ignore]
 async fn recursor_iterative_resolves_aaaa() -> anyhow::Result<()> {
     let tmp = TempDir::new()?;
     let cfg_path = write_test_config_recursor(&tmp)?;
