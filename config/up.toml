# config/up.toml
# Modo forwarder (consulta a upstreams).

listen_udp = "0.0.0.0:1053"
listen_tcp = "0.0.0.0:1053"

upstreams = ["1.1.1.1:53", "8.8.8.8:53"]

roots = []

[zones]
# path = "zones.db"

[filters]
allowlist_domains = []
blocklist_domains = []
deny_nets = []
allow_nets = []

[cache]
answer_cache_size = 20000
negative_cache_size = 5000

min_ttl = 5
max_ttl = 86400
negative_ttl = 300

[cache.negative]
enabled = true
cache_nxdomain = true
cache_nodata = true
two_hit = true
probe_ttl_secs = 60
min_ttl = 5
max_ttl = 300

[recursor]
# Aunque uses upstreams, mantenemos este bloque para no romper el config loader.
ns_cache_size = 2048
record_cache_size = 8192
recursion_limit = 12
ns_recursion_limit = 6
timeout_ms = 2000
attempts = 2
case_randomization = true
dnssec = "disabled"

