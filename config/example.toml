listen_udp = "0.0.0.0:5353"
listen_tcp = "0.0.0.0:5353"

# Root hints fijos (IPs). Podés reemplazarlos por los que quieras.
# Fuente conceptual: IANA Root Hints.
roots = [
  "198.41.0.4",      # a.root-servers.net
  "199.9.14.201",    # b.root-servers.net
  "192.33.4.12",     # c.root-servers.net
  "199.7.91.13",     # d.root-servers.net
  "192.203.230.10",  # e.root-servers.net
  "192.5.5.241",     # f.root-servers.net
  "192.112.36.4",    # g.root-servers.net
  "198.97.190.53",   # h.root-servers.net
  "192.36.148.17",   # i.root-servers.net
  "192.58.128.30",   # j.root-servers.net
  "193.0.14.129",    # k.root-servers.net
  "199.7.83.42",     # l.root-servers.net
  "202.12.27.33"     # m.root-servers.net
]

[zones]
# Zonas locales: TOML por archivo. Se cargan todos los *.toml del directorio.
zones_dir = "zones"

[filters]
# Si allowlist_domains no está vacío, SOLO deja pasar esos sufijos.
allowlist_domains = []
blocklist_domains = ["ads.example", "tracking.example"]

# Redes IP destino a las que NO se permite consultar (anti-rebinding / hardening)
deny_nets = ["127.0.0.0/8", "10.0.0.0/8", "172.16.0.0/12", "192.168.0.0/16", "::1/128", "fc00::/7"]
allow_nets = [] # si lo llenás, actúa como allowlist.

[cache]
# Cache frontal de respuestas (server-side)
answer_cache_size = 20000
negative_cache_size = 5000

# TTL clamp para cache frontal (segundos)
min_ttl = 5
max_ttl = 86400

# TTL para NXDOMAIN/NOERROR vacío si no hay SOA usable (segundos)
negative_ttl = 300

[recursor]
# caches internas del motor recursor (NS+glue y rrsets)
ns_cache_size = 4096
record_cache_size = 32768

# límites de recursión
recursion_limit = 32
ns_recursion_limit = 16

# retry/timeout (en ms)
timeout_ms = 1500
attempts = 3

# randomización de case (0x20)
case_randomization = true

# DNSSEC:
# - "off": SecurityUnaware (no pide DNSSEC)
# - "process": ValidationDisabled (pide y procesa, sin validar)  [requiere feature dnssec]
# - "validate": ValidateWithStaticKey (valida)                   [requiere feature dnssec]
dnssec = "off"
